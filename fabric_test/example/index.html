<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Custom Controls for Fabric.js</title>
</head>
<body>
<a href="test.html">test</a>
<h1>Custom Controls for fabric.js</h1>
<a href="https://github.com/pixolith/fabricjs-customise-controls-extension">https://github.com/pixolith/fabricjs-customise-controls-extension</a>
<canvas id="example"></canvas>
<canvas id="c" style="border: 1px solid #4169e1; width: 50%; height: 25%;"></canvas>
<ul>
    <li>top left = rotate</li>
    <li>top right = scale</li>
    <li>top middle = rotate by specific degree</li>
    <li>bottom left = remove</li>
    <li>bottom right = move up layer specific</li>
    <li>bottom middle = move down layer specific</li>
    <li>Middle Left is for stretching and if you press SHIFT for skewing</li>
    <li>Middle Right is a custom left (-200px) call and if you press SHIFT for skewing</li>
</ul>
<div class="index">
    <span class="cat"></span>
    <br>
    <span class="bear"></span>
    <br>
    <span class="owl"></span>
</div>
<script defer src="../dependencies/fabric/dist/fabric.min.js"></script>
<script defer src="../dist/customiseControls.js"></script>
<script defer src="../example/example.js"></script>

<script type="text/javascript">
    /*'use strict';
    (function() {
        var image1 = document.createElement('img'),
            image2 = document.createElement('img'),
            image3 = document.createElement('img'),
            canvas,
            width = 1000,
            height = 500,
            randomColor = function randomColor() {
                var letters = '0123456789ABCDEF';
                var color = '#';
                for (var i = 0; i < 6; i++) {
                    color += letters[Math.floor(Math.random() * 16)];
                }
                return color;
            };

        fabric.Object.prototype.setControlsVisibility( {
            ml: false,
            mr: false
        } );

        fabric.Canvas.prototype.customiseControls({
            tl: {
                action: 'remove', //rotate
                //cursor: 'cow.png',
            },
            tr: {
                action: 'rotate', //scale
            },
            bl: {
                action: 'scale', //remove
                cursor: 'pointer',
            },
            br: {
                action: 'scale', //moveUp
                cursor: 'pointer',
            },
            mb: {
                action: 'moveDown',
                cursor: 'pointer',
            },
            mr: {
                action: function(e, target) {
                    target.set({
                        left: 200,
                    });
                    canvas.renderAll();
                },
                cursor: 'pointer',
            },
            mt: {
                action: {
                    'rotateByDegrees': 45,
                },
                cursor: 'pointer',
            },
        });

        // basic settings
        fabric.Object.prototype.customiseCornerIcons({
            settings: {
                borderColor: '#0094dd',
                cornerSize: 25,
                cornerShape: 'rect',
                cornerBackgroundColor: 'black',
            },
            tl: {
                icon: 'icons/remove.svg', //'icons/rotate.svg
            },
            tr: {
                icon: 'icons/rotate.svg', //icons/resize.svg
            },
            ml: {
                icon: '//maxcdn.icons8.com/Share/icon/Logos//google_logo1600.png',
            },
            mr: {
                icon: 'icons/diagonal-resize.svg',
            },
        }, function() {
            canvas.renderAll();
        });

        canvas = new fabric.Canvas('c', {
            width: width,
            height: height,
        });

        image1.src = 'cat.jpg';
        fabric.Image.fromURL(image1.src, function(img) {
            img.set({
                id: 'cat',
                left: 500,
                top: 100,
                scaleX: 0.2,
                scaleY: 0.2,
                originX: 'center',
                originY: 'center',
                hasRotatingPoint: false,
            });

            // overwrite the prototype object based
            img.customiseCornerIcons({
                settings: {
                    borderColor: 'black',
                    cornerSize: 25,
                    cornerShape: 'rect',
                    cornerBackgroundColor: 'black',
                    cornerPadding: 10,
                },
                tl: {
                    icon: 'icons/remove.svg', //icons/rotate.svg
                },
                tr: {
                    icon: 'icons/rotate.svg', //icons/resize.svg
                },
                bl: {
                    icon: 'icons/resize.svg', //icons/remove.svg
                },
                br: {
                    icon: 'icons/resize.svg', //icons/up.svg
                },
                mb: {
                    icon: 'icons/down.svg',
                },
                mt: {
                    icon: 'icons/acute.svg',
                },
                mr: {
                    icon: 'icons/repair-tools-cross.svg',
                },
            }, function() {
                canvas.renderAll();
            });

            canvas.add(img);
            canvas.setActiveObject(img);

        });

        image2.src = 'bear.jpg';
        fabric.Image.fromURL(image2.src, function(img) {
            img.set({
                id: 'bear',
                left: 100,
                top: 100,
                scaleX: 0.2,
                scaleY: 0.2,
                originX: 'center',
                originY: 'center',
                hasRotatingPoint: false,
            });

            // overwrite the prototype object based
            img.customiseCornerIcons({
                settings: {
                    borderColor: 'red',
                    cornerSize: 25,
                    cornerBackgroundColor: 'red',
                    cornerShape: 'circle',
                    cornerPadding: 10,
                },
                tl: {
                    icon: 'icons/rotate.svg',
                },
                tr: {
                    icon: 'icons/resize.svg',
                },
                bl: {
                    icon: 'icons/remove.svg',
                },
                br: {
                    icon: 'icons/up.svg',
                },
                mb: {
                    icon: 'icons/down.svg',
                },
                mt: {
                    icon: 'icons/acute.svg',
                },
                mr: {
                    icon: 'icons/repair-tools-cross.svg',
                },
            }, function() {
                canvas.renderAll();
            });

            canvas.add(img);
        });

        image3.src = 'owl.jpg';
        fabric.Image.fromURL(image3.src, function(img) {
            img.set({
                id: 'owl',
                left: 300,
                top: 100,
                scaleX: 0.05,
                scaleY: 0.05,
                originX: 'center',
                originY: 'center',
                hasRotatingPoint: false,
            });

            // overwrite the prototype object based
            img.customiseCornerIcons({
                settings: {
                    borderColor: randomColor(),
                    cornerSize: 25,
                    cornerBackgroundColor: 'red',
                    cornerShape: 'circle',
                    cornerPadding: 10,
                },
                tl: {
                    icon: 'icons/rotate.svg',
                    settings: {
                        cornerShape: 'rect',
                        cornerBackgroundColor: randomColor(),
                        cornerPadding: 10,
                    },
                },
                tr: {
                    icon: 'icons/resize.svg',
                    settings: {
                        cornerShape: 'circle',
                        cornerBackgroundColor: randomColor(),
                        cornerPadding: 15,
                    },
                },
                bl: {
                    icon: 'icons/remove.svg',
                    settings: {
                        cornerShape: 'rect',
                        cornerBackgroundColor: randomColor(),
                        cornerPadding: 12,
                    },
                },
                br: {
                    icon: 'icons/up.svg',
                    settings: {
                        cornerShape: 'circle',
                        cornerBackgroundColor: randomColor(),
                        cornerPadding: 17,
                    },
                },
                mb: {
                    icon: 'icons/down.svg',
                    settings: {
                        cornerShape: 'rect',
                        cornerBackgroundColor: randomColor(),
                        cornerPadding: 5,
                    },
                },
                mt: {
                    icon: 'icons/acute.svg',
                    settings: {
                        cornerShape: 'circle',
                        cornerBackgroundColor: randomColor(),
                        cornerPadding: 8,
                    },
                },
                mr: {
                    icon: 'icons/repair-tools-cross.svg',
                    settings: {
                        cornerShape: 'rect',
                        cornerBackgroundColor: randomColor(),
                        cornerPadding: 10,
                    },
                },
            }, function() {
                canvas.renderAll();
            });

            canvas.add(img);
        });

        canvas.on({
            'after:render': function() {
                canvas.forEachObject(function(obj) {
                    document.querySelector('.' + obj.id)
                        .innerText = obj.id + ' z-index: ' + canvas.getObjects().indexOf(obj);
                });

            },
        });
    })();*/
alert('js works');
</script>
</body>
</html>
